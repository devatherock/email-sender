plugins {
    id 'java'
    id 'org.springframework.boot' version '2.2.7.RELEASE'
    id 'io.spring.dependency-management' version '1.0.9.RELEASE'
    id 'com.github.johnrengelman.shadow' version '5.0.0'
    id 'application'
    id 'net.ltgt.apt' version '0.19'
}

group = 'io.github.devatherock'
version = '0.1.0'
mainClassName = 'io.github.devatherock.emailsender.EmailSenderApplication'

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    def micronautVersion = '1.3.6'
    def micronautSpringVersion = '2.0.1'

    annotationProcessor group: 'io.micronaut', name: 'micronaut-inject-java', version: micronautVersion
    annotationProcessor group: 'io.micronaut', name: 'micronaut-validation', version: micronautVersion
    annotationProcessor group: 'io.micronaut.spring', name: 'micronaut-spring-annotation', version: micronautSpringVersion
    annotationProcessor group: 'io.micronaut.spring', name: 'micronaut-spring-web-annotation', version: micronautSpringVersion
    annotationProcessor group: 'io.micronaut.spring', name: 'micronaut-spring-boot', version: micronautSpringVersion

    annotationProcessor group: 'org.projectlombok', name: 'lombok', version: '1.18.12'
    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.12'

    implementation group: 'io.micronaut', name: 'micronaut-inject', version: micronautVersion
    implementation group: 'io.micronaut', name: 'micronaut-validation', version: micronautVersion
    implementation group: 'io.micronaut', name: 'micronaut-http-server', version: micronautVersion
    implementation group: 'io.micronaut', name: 'micronaut-http-server-netty', version: micronautVersion
    implementation group: 'io.micronaut.spring', name: 'micronaut-spring-web', version: micronautSpringVersion
    implementation group: 'io.micronaut.spring', name: 'micronaut-spring-boot', version: micronautSpringVersion

    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-web'
	implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator'

    implementation group: 'org.yaml', name: 'snakeyaml', version: '1.26'
    implementation group: 'org.masukomi', name: 'aspirin', version: '0.11.01'
    implementation group: 'org.simplejavamail', name: 'simple-java-mail', version: '5.5.1'
}

project.bootJar.enabled = false
project.jar.enabled = true

bootRun {
    systemProperties System.properties
}